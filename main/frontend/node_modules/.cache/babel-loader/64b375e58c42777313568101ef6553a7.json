{"remainingRequest":"C:\\Users\\Equus\\Desktop\\Next\\HTH\\main\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Equus\\Desktop\\Next\\HTH\\main\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Equus\\Desktop\\Next\\HTH\\main\\frontend\\src\\store.js","dependencies":[{"path":"C:\\Users\\Equus\\Desktop\\Next\\HTH\\main\\frontend\\src\\store.js","mtime":1564222314208},{"path":"C:\\Users\\Equus\\Desktop\\Next\\HTH\\main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1564208051459},{"path":"C:\\Users\\Equus\\Desktop\\Next\\HTH\\main\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1564208046278},{"path":"C:\\Users\\Equus\\Desktop\\Next\\HTH\\main\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1564208061624}],"contextDependencies":[],"result":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport router from \"./router\";\nimport axios from \"axios\";\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    userInfo: null,\n    allUsers: [{\n      id: 1,\n      name: \"hoza\",\n      email: \"hoza@gmail.com\",\n      password: \"123456\"\n    }, {\n      id: 2,\n      name: \"lego\",\n      email: \"lego@gmail.com\",\n      password: \"123456\"\n    }],\n    isLogin: false,\n    isLoginError: false\n  },\n  mutations: {\n    loginSuccess: function loginSuccess(state, payload) {\n      state.isLogin = true;\n      state.isLoginError = false;\n      state.userInfo = payload;\n    },\n    loginError: function loginError(state) {\n      state.isLogin = false;\n      state.isLoginError = false;\n      state.userInfo = null;\n    },\n    logout: function logout(state) {\n      state.isLogin = false;\n      state.isLoginError = false;\n      state.userInfo = null;\n    }\n  },\n  actions: {\n    login: function login(_ref, loginObj) {\n      var commit = _ref.commit;\n      // let selectedUser = null\n      // state.allUsers.forEach(user =>{\n      //     if (user.email === loginObj.email) selectedUser = user\n      // })\n      // if (selectedUser === null || selectedUser.password !== loginObj.password)\n      //     commit(\"loginError\")\n      // else {\n      //     commit(\"loginSuccess\", selectedUser)\n      //     router.push({name: 'home'})\n      // }\n      axios.post(\"https://reqres.in/api/login\", loginObj) // loginObj = {email,password}\n      .then(function (res) {\n        // 접근 성공시, 토큰 값이 반환된다. (실제로는 토큰과 함께 유저 id를 받아온다.)\n        // 토큰을 헤더 정보에 포함시켜서 유저 정보를 요청\n        var token = res.data.token;\n        var config = {\n          headers: {\n            \"access-token\": token\n          }\n        };\n        axios.get(\"https://reqres.in/api/users/2\", config).then(function (response) {\n          var userInfo = {\n            id: response.data.data.id,\n            first_name: response.data.data.first_name,\n            last_name: response.data.data.last_name,\n            avatar: response.data.data.avatar\n          };\n          commit(\"loginSuccess\", userInfo);\n        }).catch(function () {\n          alert(\"이메일과 비밀번호를 확인하세요.\");\n        });\n      }).catch(function (err) {\n        alert(\"이메일과 비밀번호를 확인하세요.\");\n      });\n    },\n    logout: function logout(_ref2) {\n      var commit = _ref2.commit;\n      commit(\"logout\");\n      router.push({\n        name: \"home\"\n      });\n    }\n  }\n});",{"version":3,"sources":["C:\\Users\\Equus\\Desktop\\Next\\HTH\\main\\frontend\\src\\store.js"],"names":["Vue","Vuex","router","axios","use","Store","state","userInfo","allUsers","id","name","email","password","isLogin","isLoginError","mutations","loginSuccess","payload","loginError","logout","actions","login","loginObj","commit","post","then","res","token","data","config","headers","get","response","first_name","last_name","avatar","catch","alert","err","push"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport router from \"./router\";\r\nimport axios from \"axios\";\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    userInfo: null,\r\n    allUsers: [\r\n      { id: 1, name: \"hoza\", email: \"hoza@gmail.com\", password: \"123456\" },\r\n      { id: 2, name: \"lego\", email: \"lego@gmail.com\", password: \"123456\" }\r\n    ],\r\n    isLogin: false,\r\n    isLoginError: false\r\n  },\r\n  mutations: {\r\n    loginSuccess(state, payload) {\r\n      state.isLogin = true;\r\n      state.isLoginError = false;\r\n      state.userInfo = payload;\r\n    },\r\n    loginError(state) {\r\n      state.isLogin = false;\r\n      state.isLoginError = false;\r\n      state.userInfo = null;\r\n    },\r\n    logout(state) {\r\n      state.isLogin = false;\r\n      state.isLoginError = false;\r\n      state.userInfo = null;\r\n    }\r\n  },\r\n  actions: {\r\n    login({ commit }, loginObj) {\r\n      // let selectedUser = null\r\n      // state.allUsers.forEach(user =>{\r\n      //     if (user.email === loginObj.email) selectedUser = user\r\n      // })\r\n      // if (selectedUser === null || selectedUser.password !== loginObj.password)\r\n      //     commit(\"loginError\")\r\n      // else {\r\n      //     commit(\"loginSuccess\", selectedUser)\r\n      //     router.push({name: 'home'})\r\n      // }\r\n      axios\r\n        .post(\"https://reqres.in/api/login\", loginObj)\r\n        // loginObj = {email,password}\r\n        .then(res => {\r\n          // 접근 성공시, 토큰 값이 반환된다. (실제로는 토큰과 함께 유저 id를 받아온다.)\r\n          // 토큰을 헤더 정보에 포함시켜서 유저 정보를 요청\r\n          let token = res.data.token;\r\n          let config = {\r\n            headers: {\r\n              \"access-token\": token\r\n            }\r\n          };\r\n          axios\r\n            .get(\"https://reqres.in/api/users/2\", config)\r\n            .then(response => {\r\n              let userInfo = {\r\n                id: response.data.data.id,\r\n                first_name: response.data.data.first_name,\r\n                last_name: response.data.data.last_name,\r\n                avatar: response.data.data.avatar\r\n              };\r\n              commit(\"loginSuccess\", userInfo);\r\n            })\r\n            .catch(() => {\r\n              alert(\"이메일과 비밀번호를 확인하세요.\");\r\n            });\r\n        })\r\n        .catch(err => {\r\n          alert(\"이메일과 비밀번호를 확인하세요.\");\r\n        });\r\n    },\r\n    logout({ commit }) {\r\n      commit(\"logout\");\r\n      router.push({ name: \"home\" });\r\n    }\r\n  }\r\n});\r\n"]}]}